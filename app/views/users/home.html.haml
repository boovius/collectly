#user-home(ng-app='search')
  .search(ng-controller='SearchCtrl')
    .search-input
      %form
        %label(for='query') Search
        %input(type='text' id='query')
        %input(type='submit' id='query-submit')
    .search-results.clearfix
      .artists(ng-if='artists.length > 0')
        Artists
        %ul
          %li(ng-repeat="artist in artists" ng-click='addToFolder()')
            %a(href='#')
              {{artist.name}}
      .albums(ng-if='albums.length > 0')
        Albums
        %ul
          %li(ng-repeat="album in albums" ng-click='addToFolder()')
            %a(href='#')
              {{album.title}}
      .songs(ng-if='songs.length > 0')
        Songs
        %ul
          %li(ng-repeat="song in songs" ng-click='addToFolder()')
            %a(href='#')
              {{song.title}}
    .results-message {{resultsMessage}}
    .folder(ng-if='!hasNoResults(folder)')
      %span(ng-if='folder.artists.length > 0') {{folder.artists.length}} artists,
      %span(ng-if='folder.albums.length > 0') {{folder.albums.length}} albums,
      %span(ng-if='folder.songs.length > 0') {{folder.songs.length}} songs,
      %span
        in folder -
        %a(href='/folder') click to go to folder
    .folder-display(ng-view)
  .add-new-item
    %h3 Add new song
    %form(action='songs' method="post")
      .names
        %input(type="hidden" name="#{request_forgery_protection_token.to_s}" value="#{form_authenticity_token}")
        .song-input
          %label(for='song') song
          %input(type='text' name='song' id='song' required='true')
        .album-input
          %label(for='album') album
          %input(type='text' name='album' id='album')
        .artist-input
          %label(for='artist') artist
          %input(type='text' name='artist' id='artist')
      .attrs
        %label(for='album-image-url') add album artwork
        %input(type='text' name='album_image_url' id='album-image-url' placeholder='http://www.pathtoimage.com')
      %button submit
